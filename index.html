
<!-- index.html -->
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Nestwood Realty Chatbot</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css" />
  </head>
  <body>
    <!-- Chat Icon -->
    <div class="chat-icon" onclick="toggleChat()">ðŸ’¬</div>

    <!-- Chat Popup -->
    <div class="chat-popup" id="chatPopup">
      <div class="chat-header">
        <span>Nessy</span>
       <!-- <button onclick="toggleChat()">Ã—</button> -->
      </div>
      <div class="chat-body" id="chatBody">
        <div class="bubble bot">
          Hello! Welcome to Nestwood Realty!
        </div>
        <form id="contactForm" onsubmit="handleSubmit(event)">
          <input type="text" id="name" placeholder="Your Name" required>
          <input type="email" id="email" placeholder="Your Email" required>
          <input type="tel" id="phone" placeholder="Phone Number" required>
          <button class="enter-button" onclick="validatePhoneNumber()" type="submit">Enter</button>
        </form>
      </div>
    </div>

    <script src="chatbot.js"></script>
    <!-- List of phone number country codes -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const phoneInputField = document.querySelector("#phone");
        const result = document.querySelector("#validation-result");

        const iti = window.intlTelInput(phoneInputField, {
          initialCountry: "auto",
          preferredCountries: ["ae", "us", "gb", "in", "ca", "au"],
          geoIpLookup: function (callback) {
            fetch("https://ipapi.co/json")
              .then((res) => res.json())
              .then((data) => callback(data.country_code))
              .catch(() => callback("us"));
          },
          utilsScript:
            "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js",
        });

        window.validatePhoneNumber = function () {
          if (iti.isValidNumber()) {
            const number = iti.getNumber(); // full international format
            result.style.color = "green";
            result.textContent = `Valid number: ${number}`;
          } else {
            result.style.color = "red";
            result.textContent = "Invalid phone number.";
          }
        }
      });
    </script>
  </body>
</html>